opencage
========

[![Build Status](https://travis-ci.org/ropenscilabs/opencage.svg?branch=master)](https://travis-ci.org/ropenscilabs/opencage) [![Build status](https://ci.appveyor.com/api/projects/status/410099wd2lic6sm9?svg=true)](https://ci.appveyor.com/project/masalmon/opencage) [![codecov.io](https://codecov.io/github/ropenscilabs/opencage/coverage.svg?branch=master)](https://codecov.io/github/ropenscilabs/opencage?branch=master)

Installation
============

To install the package, you will need the devtools package.

``` r
library("devtools")
install_github("ropenscilabs/opencage")
```

This package is an interface to the OpenCage API that allows forward and reverse geocoding. To use the package, you will need an API key. To get an API key for OpenCage geocoding, register at <https://geocoder.opencagedata.com/pricing>. The free API key provides up to 2,500 calls a day. For ease of use, save your API key as an environment variable as described at <https://stat545-ubc.github.io/bit003_api-key-env-var.html>.

Both functions of the package will conveniently look for your API key using `Sys.getenv("OPENCAGE_KEY")` so if your API key is an environment variable called "OPENCAGE\_KEY" you don't need to input it manually.

Geocoding
=========

The [OpenCage](https://geocoder.opencagedata.com/) API supports forward and reverse geocoding. Sources of OpenCage are open geospatial data including OpenStreetMap, Yahoo! GeoPlanet, Natural Earth Data, Thematic Mapping, Ordnance Survey OpenSpace, Statistics New Zealand, Zillow, MaxMind, GeoNames, the US Census Bureau and Flickr's shapefiles plus a whole lot more besides. See [this page](https://geocoder.opencagedata.com/credits) for the full list of credits.

Both forward and reverse geocoding typically return multiple results. Regarding these multiple results, the API doc states, "In cases where the geocoder is able to find multiple matches, the geocoder will return multiple results. The confidence or coordinates for each result should be examined to determine whether each result from an ambiguous query is sufficiently high to warrant using a result or not. A good strategy to reduce ambiguity is to use the optional `bounds` parameter described below to limit the area searched." Multiple results might mean you get a result for the airport and a road when querying a city name, or results for cities with the same name in different countries.

Below are two simple examples.

Forward geocoding
-----------------

Forward geocoding is from placename to latitude and longitude tuplet(s).

``` r
library("opencage")
output <- opencage_forward(placename = "Sarzeau")
print(output$time_stamp)
```

    ## [1] "2016-05-07 08:18:47 CEST"

``` r
library("dplyr")
output$rate_info %>% knitr::kable()
```

|  limit|  remaining| rest                |
|------:|----------:|:--------------------|
|   2500|       2323| 2016-05-08 02:00:00 |

``` r
output$results %>% knitr::kable()
```

| annotations.DMS.lat  | annotations.DMS.lng | annotations.MGRS | annotations.Maidenhead | annotations.Mercator.x | annotations.Mercator.y | annotations.OSM.edit\_url                                                     | annotations.OSM.url                                                                   | annotations.callingcode | annotations.geohash  | annotations.sun.rise.apparent | annotations.sun.rise.astronomical | annotations.sun.rise.civil | annotations.sun.rise.nautical | annotations.sun.set.apparent | annotations.sun.set.astronomical | annotations.sun.set.civil | annotations.sun.set.nautical | annotations.timezone.name | annotations.timezone.now\_in\_dst | annotations.timezone.offset\_sec | annotations.timezone.offset\_string | annotations.timezone.short\_name | annotations.what3words.words | bounds.northeast.lat | bounds.northeast.lng | bounds.southwest.lat | bounds.southwest.lng | components.\_type | components.city | components.country | components.country\_code | components.county | components.postcode | components.state | confidence | formatted                                       |  geometry.lat|  geometry.lng| components.post\_office | components.road | components.suburb | components.village |
|:---------------------|:--------------------|:-----------------|:-----------------------|:-----------------------|:-----------------------|:------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------|:------------------------|:---------------------|:------------------------------|:----------------------------------|:---------------------------|:------------------------------|:-----------------------------|:---------------------------------|:--------------------------|:-----------------------------|:--------------------------|:----------------------------------|:---------------------------------|:------------------------------------|:---------------------------------|:-----------------------------|:---------------------|:---------------------|:---------------------|:---------------------|:------------------|:----------------|:-------------------|:-------------------------|:------------------|:--------------------|:-----------------|:-----------|:------------------------------------------------|-------------:|-------------:|:------------------------|:----------------|:------------------|:-------------------|
| 47° 31' 43.56984'' N | 2° 45' 51.11856'' W | 30TWT1774963954  | IN87om86hv             | -307709.292            | 5997281.031            | <https://www.openstreetmap.org/edit?relation=959447#map=17/47.52877/-2.76420> | <https://www.openstreetmap.org/?mlat=47.52877&mlon=-2.76420#map=17/47.52877/-2.76420> | 33                      | gbqn3h75jkz3h3mvtyj6 | 1462596240                    | 1462588200                        | 1462594080                 | 1462591380                    | 1462649520                   | 1462657620                       | 1462651680                | 1462654380                   | Europe/Paris              | 1                                 | 7200                             | 200                                 | CEST                             | gasp.jiggle.creamier         | 47.568813            | -2.6630649           | 47.484236            | -2.8536849           | city              | Sarzeau         | France             | fr                       | Vannes            | 56370               | Brittany         | 6          | 56370 Sarzeau, France                           |      47.52877|       -2.7642| NA                      | NA              | NA                | NA                 |
| 47° 31' 40.80828'' N | 2° 46' 7.68144'' W  | 30TWT1740363867  | IN87om76rr             | -308221.451            | 5997154.952            | <https://www.openstreetmap.org/edit?node=846574100#map=17/47.52800/-2.76880>  | <https://www.openstreetmap.org/?mlat=47.52800&mlon=-2.76880#map=17/47.52800/-2.76880> | 33                      | gbqn2upydmbc15dm9h6g | 1462596240                    | 1462588200                        | 1462594080                 | 1462591380                    | 1462649520                   | 1462657620                       | 1462651680                | 1462654380                   | Europe/Paris              | 1                                 | 7200                             | 200                                 | CEST                             | netball.anchored.accomplice  | 47.5280523           | -2.7687504           | 47.5279523           | -2.7688504           | post\_office      | NA              | France             | fr                       | Vannes            | 56370               | Brittany         | 10         | SARZEAU, Rue de la Poste, 56370 Sarzeau, France |      47.52800|       -2.7688| SARZEAU                 | Rue de la Poste | Kerjolis          | Sarzeau            |

Reverse geocoding
-----------------

Reverse geocoding is from latitude and longitude to placename(s).

``` r
output2 <- opencage_reverse(latitude = 51.5034070, 
                            longitude = -0.1275920)
print(output2$time_stamp)
```

    ## [1] "2016-05-07 08:22:30 CEST"

``` r
output2$rate_info %>% knitr::kable()
```

|  limit|  remaining| rest                |
|------:|----------:|:--------------------|
|   2500|       2322| 2016-05-08 02:00:00 |

``` r
output2$results %>% knitr::kable()
```

| annotations.DMS.lat  | annotations.DMS.lng | annotations.MGRS | annotations.Maidenhead | annotations.Mercator.x | annotations.Mercator.y | annotations.OSGB.easting | annotations.OSGB.gridref | annotations.OSGB.northing | annotations.OSM.edit\_url                                                      | annotations.OSM.url                                                                   | annotations.callingcode | annotations.geohash  | annotations.sun.rise.apparent | annotations.sun.rise.astronomical | annotations.sun.rise.civil | annotations.sun.rise.nautical | annotations.sun.set.apparent | annotations.sun.set.astronomical | annotations.sun.set.civil | annotations.sun.set.nautical | annotations.timezone.name | annotations.timezone.now\_in\_dst | annotations.timezone.offset\_sec | annotations.timezone.offset\_string | annotations.timezone.short\_name | annotations.what3words.words | components.\_type | components.attraction | components.city | components.country | components.country\_code | components.house\_number | components.postcode | components.road | components.state | components.state\_district | components.suburb | confidence | formatted                                          |  geometry.lat|  geometry.lng|
|:---------------------|:--------------------|:-----------------|:-----------------------|:-----------------------|:-----------------------|:-------------------------|:-------------------------|:--------------------------|:-------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------|:------------------------|:---------------------|:------------------------------|:----------------------------------|:---------------------------|:------------------------------|:-----------------------------|:---------------------------------|:--------------------------|:-----------------------------|:--------------------------|:----------------------------------|:---------------------------------|:------------------------------------|:---------------------------------|:-----------------------------|:------------------|:----------------------|:----------------|:-------------------|:-------------------------|:-------------------------|:--------------------|:----------------|:-----------------|:---------------------------|:------------------|:-----------|:---------------------------------------------------|-------------:|-------------:|
| 51° 30' 12.38490'' N | 0° 7' 39.74919'' E  | 30UXC9933909723  | IO91wm40qt             | -14216.402             | 6677371.368            | 530044.64                | TQ 300 799               | 179939.726                | <https://www.openstreetmap.org/edit?relation=1879842#map=17/51.50344/-0.12771> | <https://www.openstreetmap.org/?mlat=51.50344&mlon=-0.12771#map=17/51.50344/-0.12771> | 44                      | gcpuvpgj21jujy3ytfp1 | 1462594800                    | 1462585080                        | 1462592400                 | 1462589280                    | 1462649700                   | 1462659540                       | 1462652100                | 1462655280                   | Europe/London             | 1                                 | 3600                             | 100                                 | BST                              | onions.toned.active          | attraction        | 10 Downing Street     | London          | United Kingdom     | gb                       | 10                       | SW1A 2AA            | Downing Street  | England          | Greater London             | Covent Garden     | 10         | 10 Downing Street, London SW1A 2AA, United Kingdom |      51.50344|    -0.1277081|

Output
------

For both `opencage_forward` and `opencage_reverse` functions, the package returns a list with a time stamp for the query, the total number of results, a data.frame (`dplyr tbl_df`) with information about the remaining calls to the API unless you have an unlimited account, and a data.frame (`dplyr tbl_df`) with the results corresponding to your query. You can find longitude and latitude for each results as `geometry.lat` and `geometry.lng`. Other information includes country and country information, time of sunset and sunrise, geohash (a geocoding system identifying a point with a single string, as explained in many more details [here](https://www.elastic.co/guide/en/elasticsearch/guide/current/geohashes.html) and [here](https://en.wikipedia.org/wiki/Geohash); for pure conversion between longitude/latitude and geohashes, see [this package](https://github.com/Ironholds/geohash)). Depending on the data available in the API for the results one gets different columns; there can be a lot to explore!

Parameters
----------

Optional parameters of both `opencage_forward` and `opencage_reverse` can make the query more precise:

-   `bounds`: Provides the geocoder with a hint to the region that the query resides in. This value will restrict the possible results to the supplied region. The bounds parameter should be specified as 4 coordinate points forming the south-west and north-east corners of a bounding box. For example, `bounds = c(-0.563160, 51.280430, 0.278970, 51.683979)` (min long, min lat, max long, max lat).

Below is an example of the use of `bounds` where the rectangle given in the second call does not include Europe so that we don't get results for Berlin in Germany.

``` r
results1 <- opencage_forward(placename = "Berlin")
results1$results %>% knitr::kable()
```

| annotations.DMS.lat  | annotations.DMS.lng  | annotations.MGRS | annotations.Maidenhead | annotations.Mercator.x | annotations.Mercator.y | annotations.OSM.edit\_url                                                       | annotations.OSM.url                                                                     | annotations.callingcode | annotations.geohash  | annotations.sun.rise.apparent | annotations.sun.rise.astronomical | annotations.sun.rise.civil | annotations.sun.rise.nautical | annotations.sun.set.apparent | annotations.sun.set.astronomical | annotations.sun.set.civil | annotations.sun.set.nautical | annotations.timezone.name | annotations.timezone.now\_in\_dst | annotations.timezone.offset\_sec | annotations.timezone.offset\_string | annotations.timezone.short\_name | annotations.what3words.words  | bounds.northeast.lat | bounds.northeast.lng | bounds.southwest.lat | bounds.southwest.lng | components.\_type | components.city | components.country       | components.country\_code | components.state | confidence | formatted                                                              |  geometry.lat|  geometry.lng| components.county | components.town |
|:---------------------|:---------------------|:-----------------|:-----------------------|:-----------------------|:-----------------------|:--------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------|:------------------------|:---------------------|:------------------------------|:----------------------------------|:---------------------------|:------------------------------|:-----------------------------|:---------------------------------|:--------------------------|:-----------------------------|:--------------------------|:----------------------------------|:---------------------------------|:------------------------------------|:---------------------------------|:------------------------------|:---------------------|:---------------------|:---------------------|:---------------------|:------------------|:----------------|:-------------------------|:-------------------------|:-----------------|:-----------|:-----------------------------------------------------------------------|-------------:|-------------:|:------------------|:----------------|
| 52° 31' 1.33140'' N  | 13° 23' 19.89564'' E | 33UUU9067619766  | JO62qm64pc             | 1490441.066            | 6860227.862            | <https://www.openstreetmap.org/edit?node=240109189#map=17/52.51704/13.38886>    | <https://www.openstreetmap.org/?mlat=52.51704&mlon=13.38886#map=17/52.51704/13.38886>   | 49                      | u33db8mmzj1t355u0c0j | 1462591380                    | 1462580940                        | 1462588920                 | 1462585560                    | 1462646700                   | 1462657260                       | 1462649160                | 1462652520                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | third.gurgled.such            | 52.6770365           | 13.5488599           | 52.3570365           | 13.2288599           | city              | Berlin          | Germany                  | de                       | Berlin           | 4          | Berlin, Germany                                                        |      52.51704|      13.38886| NA                | NA              |
| 44° 28' 7.21056'' N  | 71° 11' 6.27612'' W  | 19TCK2619726251  | FN44jl72sl             | -7924286.49            | 5508315.317            | <https://www.openstreetmap.org/edit?relation=170184#map=17/44.46867/-71.18508>  | <https://www.openstreetmap.org/?mlat=44.46867&mlon=-71.18508#map=17/44.46867/-71.18508> | 1                       | drvkupk8g2zdsyw72s2c | 1462613100                    | 1462605840                        | 1462611120                 | 1462608660                    | 1462665420                   | 1462586280                       | 1462581000                | 1462583460                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | angle.liability.nerve         | 44.528436            | -71.1236419          | 44.445057            | -71.3978579          | city              | Berlin          | United States of America | us                       | New Hampshire    | 5          | Berlin, Coös County, New Hampshire, United States of America           |      44.46867|     -71.18508| Coös County       | NA              |
| 41° 37' 17.35680'' N | 72° 44' 44.34648'' W | 18TXM8780710206  | FN31po09md             | -8098008.916           | 5076059.694            | <https://www.openstreetmap.org/edit?node=158845944#map=17/41.62149/-72.74565>   | <https://www.openstreetmap.org/?mlat=41.62149&mlon=-72.74565#map=17/41.62149/-72.74565> | 1                       | drkkb8unxrwwbsuj9tjy | 1462613880                    | 1462607220                        | 1462612020                 | 1462609740                    | 1462665360                   | 1462585680                       | 1462580820                | 1462583100                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | frosts.crowds.reef            | 41.661488            | -72.7056518          | 41.581488            | -72.7856518          | city              | NA              | United States of America | us                       | Connecticut      | 7          | Berlin, Hartford County, Connecticut, United States of America         |      41.62149|     -72.74565| Hartford County   | Berlin          |
| 39° 47' 28.41432'' N | 74° 55' 44.59260'' W | 18SWK0607404588  | FM29ms89mv             | -8341064.081           | 4808298.871            | <https://www.openstreetmap.org/edit?relation=170680#map=17/39.79123/-74.92905>  | <https://www.openstreetmap.org/?mlat=39.79123&mlon=-74.92905#map=17/39.79123/-74.92905> | 1                       | dr4dqgy2dw0jyzb7kgs3 | 1462614660                    | 1462608300                        | 1462612860                 | 1462610700                    | 1462579200                   | 1462585620                       | 1462581000                | 1462583220                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | verdict.rushes.upgrading      | 39.8091498           | -74.9079589          | 39.77601             | -74.9661129          | city              | Berlin          | United States of America | us                       | New Jersey       | 7          | Berlin, Camden County, New Jersey, United States of America            |      39.79123|     -74.92905| Camden County     | NA              |
| 42° 22' 52.33440'' N | 71° 38' 13.24320'' W | 19TBG8291095470  | FN42ej31nl             | -7974595.698           | 5189444.074            | <https://www.openstreetmap.org/edit?relation=1844156#map=17/42.38120/-71.63701> | <https://www.openstreetmap.org/?mlat=42.38120&mlon=-71.63701#map=17/42.38120/-71.63701> | 1                       | drt11g782th32euc09nn | 1462613520                    | 1462606680                        | 1462611600                 | 1462609260                    | 1462665180                   | 1462585680                       | 1462580700                | 1462583040                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | astonished.rightfully.pythons | 42.4182811           | -71.5802309          | 42.3505932           | -71.6787957          | city              | Berlin          | United States of America | us                       | Massachusetts    | 7          | Berlin, Worcester County, Massachusetts, United States of America      |      42.38120|     -71.63701| Worcester County  | NA              |
| 38° 19' 21.41544'' N | 75° 13' 3.68076'' W  | 18SVH8097141633  | FM28jh37vk             | -8373194.849           | 4598602.233            | <https://www.openstreetmap.org/edit?relation=133689#map=17/38.32262/-75.21769>  | <https://www.openstreetmap.org/?mlat=38.32262&mlon=-75.21769#map=17/38.32262/-75.21769> | 1                       | dqfd02kjkv3cm4dts5ph | 1462614900                    | 1462608720                        | 1462613160                 | 1462611060                    | 1462665480                   | 1462585320                       | 1462580820                | 1462582980                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | floral.evenly.shortwave       | 38.355184            | -75.1880179          | 38.308406            | -75.2347939          | city              | Berlin          | United States of America | us                       | Maryland         | 7          | Berlin, Worcester County, Maryland, United States of America           |      38.32262|     -75.21769| Worcester County  | NA              |
| 43° 58' 4.93140'' N  | 88° 56' 36.41136'' W | 16TCP4410170158  | EN53mx62sh             | -9901139.296           | 5430821.988            | <https://www.openstreetmap.org/edit?relation=251729#map=17/43.96804/-88.94345>  | <https://www.openstreetmap.org/?mlat=43.96804&mlon=-88.94345#map=17/43.96804/-88.94345> | 1                       | dpbf0h1k7kn9fnpft5qz | 1462617420                    | 1462610280                        | 1462615440                 | 1462613040                    | 1462583220                   | 1462590360                       | 1462585140                | 1462587600                   | America/Chicago           | 1                                 | -18000                           | -500                                | CDT                              | admits.indecision.skins       | 43.997968            | -88.9207259          | 43.947614            | -88.9808519          | city              | City of Berlin  | United States of America | us                       | Wisconsin        | 7          | City of Berlin, Green Lake County, Wisconsin, United States of America |      43.96804|     -88.94345| Green Lake County | NA              |
| 39° 55' 14.29068'' N | 78° 57' 28.08756'' W | 17SPE7452920945  | FM09mw50bw             | -8789542.324           | 4826990.633            | <https://www.openstreetmap.org/edit?relation=189091#map=17/39.92064/-78.95780>  | <https://www.openstreetmap.org/?mlat=39.92064&mlon=-78.95780#map=17/39.92064/-78.95780> | 1                       | dppg572dtcgx2cbq86cy | 1462615620                    | 1462609200                        | 1462613820                 | 1462611600                    | 1462580220                   | 1462586640                       | 1462582020                | 1462584240                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | rangers.chopsticks.crumbs     | 39.927231            | -78.9372069          | 39.914615            | -78.9657809          | city              | Berlin          | United States of America | us                       | Pennsylvania     | 8          | Berlin, Somerset County, Pennsylvania, United States of America        |      39.92064|     -78.95780| Somerset County   | NA              |
| 39° 45' 32.17932'' N | 89° 54' 11.38824'' W | 16SBK5129805033  | EM59bs12od             | -10007974.37           | 4803640.851            | <https://www.openstreetmap.org/edit?relation=126290#map=17/39.75894/-89.90316>  | <https://www.openstreetmap.org/?mlat=39.75894&mlon=-89.90316#map=17/39.75894/-89.90316> | 1                       | dp044jys87qee3bchu0k | 1462618260                    | 1462611840                        | 1462616460                 | 1462614240                    | 1462582800                   | 1462589220                       | 1462584600                | 1462586820                   | America/Chicago           | 1                                 | -18000                           | -500                                | CDT                              | fluent.mocked.fancied         | 39.764932            | -89.8931649          | 39.750371            | -89.9121009          | city              | Berlin          | United States of America | us                       | Illinois         | 8          | Berlin, Sangamon County, Illinois, United States of America            |      39.75894|     -89.90316| Sangamon County   | NA              |

``` r
results2 <- opencage_forward(placename = "Berlin",
                             bounds = c(-90,38,0, 45))
results2$results %>% knitr::kable()
```

| annotations.DMS.lat  | annotations.DMS.lng  | annotations.MGRS | annotations.Maidenhead | annotations.Mercator.x | annotations.Mercator.y | annotations.OSM.edit\_url                                                       | annotations.OSM.url                                                                     | annotations.callingcode | annotations.geohash  | annotations.sun.rise.apparent | annotations.sun.rise.astronomical | annotations.sun.rise.civil | annotations.sun.rise.nautical | annotations.sun.set.apparent | annotations.sun.set.astronomical | annotations.sun.set.civil | annotations.sun.set.nautical | annotations.timezone.name | annotations.timezone.now\_in\_dst | annotations.timezone.offset\_sec | annotations.timezone.offset\_string | annotations.timezone.short\_name | annotations.what3words.words  | bounds.northeast.lat | bounds.northeast.lng | bounds.southwest.lat | bounds.southwest.lng | components.\_type | components.city | components.country       | components.country\_code | components.county | components.state | confidence | formatted                                                              |  geometry.lat|  geometry.lng| components.town | components.village |
|:---------------------|:---------------------|:-----------------|:-----------------------|:-----------------------|:-----------------------|:--------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------|:------------------------|:---------------------|:------------------------------|:----------------------------------|:---------------------------|:------------------------------|:-----------------------------|:---------------------------------|:--------------------------|:-----------------------------|:--------------------------|:----------------------------------|:---------------------------------|:------------------------------------|:---------------------------------|:------------------------------|:---------------------|:---------------------|:---------------------|:---------------------|:------------------|:----------------|:-------------------------|:-------------------------|:------------------|:-----------------|:-----------|:-----------------------------------------------------------------------|-------------:|-------------:|:----------------|:-------------------|
| 44° 28' 7.21056'' N  | 71° 11' 6.27612'' W  | 19TCK2619726251  | FN44jl72sl             | -7924286.49            | 5508315.317            | <https://www.openstreetmap.org/edit?relation=170184#map=17/44.46867/-71.18508>  | <https://www.openstreetmap.org/?mlat=44.46867&mlon=-71.18508#map=17/44.46867/-71.18508> | 1                       | drvkupk8g2zdsyw72s2c | 1462613100                    | 1462605840                        | 1462611120                 | 1462608660                    | 1462665420                   | 1462586280                       | 1462581000                | 1462583460                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | angle.liability.nerve         | 44.528436            | -71.1236419          | 44.445057            | -71.3978579          | city              | Berlin          | United States of America | us                       | Coös County       | New Hampshire    | 5          | Berlin, Coös County, New Hampshire, United States of America           |      44.46867|     -71.18508| NA              | NA                 |
| 41° 37' 17.35680'' N | 72° 44' 44.34648'' W | 18TXM8780710206  | FN31po09md             | -8098008.916           | 5076059.694            | <https://www.openstreetmap.org/edit?node=158845944#map=17/41.62149/-72.74565>   | <https://www.openstreetmap.org/?mlat=41.62149&mlon=-72.74565#map=17/41.62149/-72.74565> | 1                       | drkkb8unxrwwbsuj9tjy | 1462613880                    | 1462607220                        | 1462612020                 | 1462609740                    | 1462665360                   | 1462585680                       | 1462580820                | 1462583100                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | frosts.crowds.reef            | 41.661488            | -72.7056518          | 41.581488            | -72.7856518          | city              | NA              | United States of America | us                       | Hartford County   | Connecticut      | 7          | Berlin, Hartford County, Connecticut, United States of America         |      41.62149|     -72.74565| Berlin          | NA                 |
| 39° 47' 28.41432'' N | 74° 55' 44.59260'' W | 18SWK0607404588  | FM29ms89mv             | -8341064.081           | 4808298.871            | <https://www.openstreetmap.org/edit?relation=170680#map=17/39.79123/-74.92905>  | <https://www.openstreetmap.org/?mlat=39.79123&mlon=-74.92905#map=17/39.79123/-74.92905> | 1                       | dr4dqgy2dw0jyzb7kgs3 | 1462614660                    | 1462608300                        | 1462612860                 | 1462610700                    | 1462579200                   | 1462585620                       | 1462581000                | 1462583220                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | verdict.rushes.upgrading      | 39.8091498           | -74.9079589          | 39.77601             | -74.9661129          | city              | Berlin          | United States of America | us                       | Camden County     | New Jersey       | 7          | Berlin, Camden County, New Jersey, United States of America            |      39.79123|     -74.92905| NA              | NA                 |
| 42° 22' 52.33440'' N | 71° 38' 13.24320'' W | 19TBG8291095470  | FN42ej31nl             | -7974595.698           | 5189444.074            | <https://www.openstreetmap.org/edit?relation=1844156#map=17/42.38120/-71.63701> | <https://www.openstreetmap.org/?mlat=42.38120&mlon=-71.63701#map=17/42.38120/-71.63701> | 1                       | drt11g782th32euc09nn | 1462613520                    | 1462606680                        | 1462611600                 | 1462609260                    | 1462665180                   | 1462585680                       | 1462580700                | 1462583040                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | astonished.rightfully.pythons | 42.4182811           | -71.5802309          | 42.3505932           | -71.6787957          | city              | Berlin          | United States of America | us                       | Worcester County  | Massachusetts    | 7          | Berlin, Worcester County, Massachusetts, United States of America      |      42.38120|     -71.63701| NA              | NA                 |
| 38° 19' 21.41544'' N | 75° 13' 3.68076'' W  | 18SVH8097141633  | FM28jh37vk             | -8373194.849           | 4598602.233            | <https://www.openstreetmap.org/edit?relation=133689#map=17/38.32262/-75.21769>  | <https://www.openstreetmap.org/?mlat=38.32262&mlon=-75.21769#map=17/38.32262/-75.21769> | 1                       | dqfd02kjkv3cm4dts5ph | 1462614900                    | 1462608720                        | 1462613160                 | 1462611060                    | 1462665480                   | 1462585320                       | 1462580820                | 1462582980                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | floral.evenly.shortwave       | 38.355184            | -75.1880179          | 38.308406            | -75.2347939          | city              | Berlin          | United States of America | us                       | Worcester County  | Maryland         | 7          | Berlin, Worcester County, Maryland, United States of America           |      38.32262|     -75.21769| NA              | NA                 |
| 43° 58' 4.93140'' N  | 88° 56' 36.41136'' W | 16TCP4410170158  | EN53mx62sh             | -9901139.296           | 5430821.988            | <https://www.openstreetmap.org/edit?relation=251729#map=17/43.96804/-88.94345>  | <https://www.openstreetmap.org/?mlat=43.96804&mlon=-88.94345#map=17/43.96804/-88.94345> | 1                       | dpbf0h1k7kn9fnpft5qz | 1462617420                    | 1462610280                        | 1462615440                 | 1462613040                    | 1462583220                   | 1462590360                       | 1462585140                | 1462587600                   | America/Chicago           | 1                                 | -18000                           | -500                                | CDT                              | admits.indecision.skins       | 43.997968            | -88.9207259          | 43.947614            | -88.9808519          | city              | City of Berlin  | United States of America | us                       | Green Lake County | Wisconsin        | 7          | City of Berlin, Green Lake County, Wisconsin, United States of America |      43.96804|     -88.94345| NA              | NA                 |
| 39° 55' 14.29068'' N | 78° 57' 28.08756'' W | 17SPE7452920945  | FM09mw50bw             | -8789542.324           | 4826990.633            | <https://www.openstreetmap.org/edit?relation=189091#map=17/39.92064/-78.95780>  | <https://www.openstreetmap.org/?mlat=39.92064&mlon=-78.95780#map=17/39.92064/-78.95780> | 1                       | dppg572dtcgx2cbq86cy | 1462615620                    | 1462609200                        | 1462613820                 | 1462611600                    | 1462580220                   | 1462586640                       | 1462582020                | 1462584240                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | rangers.chopsticks.crumbs     | 39.927231            | -78.9372069          | 39.914615            | -78.9657809          | city              | Berlin          | United States of America | us                       | Somerset County   | Pennsylvania     | 8          | Berlin, Somerset County, Pennsylvania, United States of America        |      39.92064|     -78.95780| NA              | NA                 |
| 39° 45' 32.17932'' N | 89° 54' 11.38824'' W | 16SBK5129805033  | EM59bs12od             | -10007974.37           | 4803640.851            | <https://www.openstreetmap.org/edit?relation=126290#map=17/39.75894/-89.90316>  | <https://www.openstreetmap.org/?mlat=39.75894&mlon=-89.90316#map=17/39.75894/-89.90316> | 1                       | dp044jys87qee3bchu0k | 1462618260                    | 1462611840                        | 1462616460                 | 1462614240                    | 1462582800                   | 1462589220                       | 1462584600                | 1462586820                   | America/Chicago           | 1                                 | -18000                           | -500                                | CDT                              | fluent.mocked.fancied         | 39.764932            | -89.8931649          | 39.750371            | -89.9121009          | city              | Berlin          | United States of America | us                       | Sangamon County   | Illinois         | 8          | Berlin, Sangamon County, Illinois, United States of America            |      39.75894|     -89.90316| NA              | NA                 |
| 42° 41' 35.28636'' N | 73° 22' 19.39728'' W | 18TXN3335128023  | FN32hq56ii             | -8167739.779           | 5236398.071            | <https://www.openstreetmap.org/edit?node=158915747#map=17/42.69314/-73.37205>   | <https://www.openstreetmap.org/?mlat=42.69314&mlon=-73.37205#map=17/42.69314/-73.37205> | 1                       | dreffkh1e1nwfg7r4r2t | 1462613880                    | 1462606980                        | 1462611960                 | 1462609620                    | 1462579260                   | 1462586160                       | 1462581180                | 1462583520                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | cartons.eliminates.uses       | 42.7131351           | -73.3520548          | 42.6731351           | -73.3920548          | village           | NA              | United States of America | us                       | Rensselaer County | New York         | 7          | Berlin, Rensselaer County, New York, United States of America          |      42.69314|     -73.37205| NA              | Berlin             |
| 40° 33' 40.22424'' N | 81° 47' 39.48144'' W | 17TME3275690348  | EN90cn44qq             | -9105299.87            | 4920037.921            | <https://www.openstreetmap.org/edit?node=153968558#map=17/40.56117/-81.79430>   | <https://www.openstreetmap.org/?mlat=40.56117&mlon=-81.79430#map=17/40.56117/-81.79430> | 1                       | dpjydxzjywtpgn0rxvjf | 1462616220                    | 1462609680                        | 1462614360                 | 1462612140                    | 1462581000                   | 1462587540                       | 1462582800                | 1462585020                   | America/New\_York         | 1                                 | -14400                           | -400                                | EDT                              | sing.quietest.certificate     | 40.5811734           | -81.7743004          | 40.5411734           | -81.8143004          | village           | NA              | United States of America | us                       | Holmes County     | Ohio             | 7          | Berlin, Holmes County, Ohio, United States of America                  |      40.56117|     -81.79430| NA              | Berlin             |

-   `countrycode`: Restricts the results to the given country. The country code is a two letter code as defined by the ISO 3166-1 Alpha 2 standard. E.g. "GB" for the United Kingdom, "FR" for France, "US" for United States. See example below.

``` r
results3 <- opencage_forward(placename = "Berlin", country = "DE")
results3$results %>% knitr::kable()
```

| annotations.DMS.lat  | annotations.DMS.lng  | annotations.MGRS | annotations.Maidenhead | annotations.Mercator.x | annotations.Mercator.y | annotations.OSM.edit\_url                                                     | annotations.OSM.url                                                                   | annotations.callingcode | annotations.geohash  | annotations.sun.rise.apparent | annotations.sun.rise.astronomical | annotations.sun.rise.civil | annotations.sun.rise.nautical | annotations.sun.set.apparent | annotations.sun.set.astronomical | annotations.sun.set.civil | annotations.sun.set.nautical | annotations.timezone.name | annotations.timezone.now\_in\_dst | annotations.timezone.offset\_sec | annotations.timezone.offset\_string | annotations.timezone.short\_name | annotations.what3words.words | bounds.northeast.lat | bounds.northeast.lng | bounds.southwest.lat | bounds.southwest.lng | components.\_type | components.city | components.country | components.country\_code | components.state   | confidence | formatted                                                            |  geometry.lat|  geometry.lng| components.county | components.hamlet | components.postcode | components.road  | components.village | components.address29 | components.city\_district  | components.house\_number | components.suburb                    | components.restaurant | components.building     | components.residential |
|:---------------------|:---------------------|:-----------------|:-----------------------|:-----------------------|:-----------------------|:------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------|:------------------------|:---------------------|:------------------------------|:----------------------------------|:---------------------------|:------------------------------|:-----------------------------|:---------------------------------|:--------------------------|:-----------------------------|:--------------------------|:----------------------------------|:---------------------------------|:------------------------------------|:---------------------------------|:-----------------------------|:---------------------|:---------------------|:---------------------|:---------------------|:------------------|:----------------|:-------------------|:-------------------------|:-------------------|:-----------|:---------------------------------------------------------------------|-------------:|-------------:|:------------------|:------------------|:--------------------|:-----------------|:-------------------|:---------------------|:---------------------------|:-------------------------|:-------------------------------------|:----------------------|:------------------------|:-----------------------|
| 52° 31' 1.33140'' N  | 13° 23' 19.89564'' E | 33UUU9067619766  | JO62qm64pc             | 1490441.066            | 6860227.862            | <https://www.openstreetmap.org/edit?node=240109189#map=17/52.51704/13.38886>  | <https://www.openstreetmap.org/?mlat=52.51704&mlon=13.38886#map=17/52.51704/13.38886> | 49                      | u33db8mmzj1t355u0c0j | 1462591380                    | 1462580940                        | 1462588920                 | 1462585560                    | 1462646700                   | 1462657260                       | 1462649160                | 1462652520                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | third.gurgled.such           | 52.6770365           | 13.5488599           | 52.3570365           | 13.2288599           | city              | Berlin          | Germany            | de                       | Berlin             | 4          | Berlin, Germany                                                      |      52.51704|     13.388860| NA                | NA                | NA                  | NA               | NA                 | NA                   | NA                         | NA                       | NA                                   | NA                    | NA                      | NA                     |
| 54° 2' 10.89780'' N  | 10° 26' 46.07268'' E | 32UNE9470788534  | JO54fa38mr             | 1162858.017            | 7142435.831            | <https://www.openstreetmap.org/edit?node=50798110#map=17/54.03636/10.44613>   | <https://www.openstreetmap.org/?mlat=54.03636&mlon=10.44613#map=17/54.03636/10.44613> | 49                      | u1x7mtn8se8n18vzuczv | 1462591680                    | 1462579740                        | 1462589100                 | 1462585500                    | 1462647780                   | 1462660080                       | 1462650360                | 1462654020                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | jungle.scaled.quantity       | 54.0563605           | 10.4661313           | 54.0163605           | 10.4261313           | village           | NA              | Germany            | de                       | Schleswig-Holstein | 7          | 23823 Berlin, Germany                                                |      54.03636|     10.446131| Trave-Land        | Berlin            | 23823               | NA               | NA                 | NA                   | NA                         | NA                       | NA                                   | NA                    | NA                      | NA                     |
| 54° 24' 18.42840'' N | 9° 25' 55.18776'' E  | 32UNF2804128682  | JO44rj17uf             | 1049965.059            | 7212486.314            | <https://www.openstreetmap.org/edit?way=68276512#map=17/54.40512/9.43200>     | <https://www.openstreetmap.org/?mlat=54.40512&mlon=9.43200#map=17/54.40512/9.43200>   | 49                      | u1wtw8hhv3q2jjmfesu3 | 1462591860                    | 1462579320                        | 1462589220                 | 1462585560                    | 1462648080                   | 1462661220                       | 1462650780                | 1462654440                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | makeups.propelled.panther    | 54.4069751           | 9.4342708            | 54.4029778           | 9.4299614            | road              | NA              | Germany            | de                       | Schleswig-Holstein | 10         | Berlin, 24848 Klein Bennebek, Germany                                |      54.40512|      9.431997| Kropp-Stapelholm  | NA                | 24848               | Berlin           | Klein Bennebek     | NA                   | NA                         | NA                       | NA                                   | NA                    | NA                      | NA                     |
| 52° 30' 13.47300'' N | 13° 19' 47.85456'' E | 33UUU8664618379  | JO62pm90ov             | 1483884.315            | 6857802.372            | <https://www.openstreetmap.org/edit?node=4012854129#map=17/52.50374/13.32996> | <https://www.openstreetmap.org/?mlat=52.50374&mlon=13.32996#map=17/52.50374/13.32996> | 49                      | u336xq486wfr91wcvvev | 1462591380                    | 1462581000                        | 1462588920                 | 1462585620                    | 1462646700                   | 1462657260                       | 1462649160                | 1462652520                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | touchy.candle.reserved       | 52.5037925           | 13.3300096           | 52.5036925           | 13.3299096           | building          | NA              | Germany            | de                       | Berlin             | 10         | Berlin, Kurfürstendamm 21, 10719 Berlin, Germany                     |      52.50374|     13.329960| NA                | NA                | 10719               | Kurfürstendamm   | NA                 | Berlin               | Charlottenburg-Wilmersdorf | 21                       | Charlottenburg                       | NA                    | NA                      | NA                     |
| 52° 19' 25.76604'' N | 9° 48' 22.74660'' E  | 32UNC5495397361  | JO42vh67sr             | 1091634.382            | 6825048.473            | <https://www.openstreetmap.org/edit?node=260139043#map=17/52.32382/9.80632>   | <https://www.openstreetmap.org/?mlat=52.32382&mlon=9.80632#map=17/52.32382/9.80632>   | 49                      | u1qcxjk8rg9p397vepz1 | 1462592280                    | 1462582020                        | 1462589820                 | 1462586520                    | 1462647480                   | 1462657920                       | 1462649940                | 1462653300                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | dial.vine.finders            | 52.3238739           | 9.8063685            | 52.3237739           | 9.8062685            | restaurant        | Hanover         | Germany            | de                       | Lower Saxony       | 10         | Berlin, 4. Allee, 30521 Hanover, Germany                             |      52.32382|      9.806318| Region Hannover   | NA                | 30521               | 4. Allee         | NA                 | NA                   | Döhren-Wülfel              | NA                       | Mittelfeld                           | Berlin                | NA                      | NA                     |
| 52° 22' 12.67680'' N | 9° 45' 10.62252'' E  | 32UND5126202479  | JO42vi08iu             | 1085693.506            | 6833476.151            | <https://www.openstreetmap.org/edit?node=320881943#map=17/52.37019/9.75295>   | <https://www.openstreetmap.org/?mlat=52.37019&mlon=9.75295#map=17/52.37019/9.75295>   | 49                      | u1qcvvtyknx5um9fq9f9 | 1462592280                    | 1462581960                        | 1462589820                 | 1462586520                    | 1462647540                   | 1462657980                       | 1462650000                | 1462653300                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | army.outdoors.hitters        | 52.370238            | 9.7530007            | 52.370138            | 9.7529007            | road              | Hanover         | Germany            | de                       | Lower Saxony       | 10         | Berliner Allee, 30175 Hanover, Germany                               |      52.37019|      9.752951| Region Hannover   | NA                | 30175               | Berliner Allee   | NA                 | Berlin               | South-City-Bult            | NA                       | South-City                           | NA                    | NA                      | NA                     |
| 52° 30' 20.91132'' N | 13° 19' 56.43624'' E | 33UUU8681318605  | JO62pm91vj             | 1484149.678            | 6858179.301            | <https://www.openstreetmap.org/edit?node=3889599519#map=17/52.50581/13.33234> | <https://www.openstreetmap.org/?mlat=52.50581&mlon=13.33234#map=17/52.50581/13.33234> | 49                      | u336xqkkd05ubvhv9zd8 | 1462591380                    | 1462581000                        | 1462588920                 | 1462585620                    | 1462646700                   | 1462657260                       | 1462649160                | 1462652520                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | empire.opposite.unwell       | 52.5058587           | 13.3323934           | 52.5057587           | 13.3322934           | building          | NA              | Germany            | de                       | Berlin             | 10         | Berlin, Hardenbergstraße 27-28a, 10623 Berlin, Germany               |      52.50581|     13.332343| NA                | NA                | 10623               | Hardenbergstraße | NA                 | Berlin               | Charlottenburg-Wilmersdorf | 27-28a                   | Charlottenburg                       | NA                    | NA                      | NA                     |
| 53° 51' 4.53384'' N  | 10° 40' 56.93196'' E | 32UPE1067368285  | JO53iu14vh             | 1189168.356            | 7107508.609            | <https://www.openstreetmap.org/edit?node=1630863689#map=17/53.85126/10.68248> | <https://www.openstreetmap.org/?mlat=53.85126&mlon=10.68248#map=17/53.85126/10.68248> | 49                      | u1xd756drf74zwdx76by | 1462591680                    | 1462579980                        | 1462589100                 | 1462585560                    | 1462647660                   | 1462659660                       | 1462650240                | 1462653840                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | chase.pencils.themes         | 53.8513094           | 10.6825311           | 53.8512094           | 10.6824311           | road              | Lübeck          | Germany            | de                       | Schleswig-Holstein | 10         | Berliner Platz, 23560 Lübeck, Germany                                |      53.85126|     10.682481| NA                | NA                | 23560               | Berliner Platz   | NA                 | Berlin               | Sankt Jürgen               | NA                       | Hüxtertor / Mühlentor / Gärtnergasse | NA                    | NA                      | NA                     |
| 52° 27' 24.31584'' N | 13° 34' 45.17324'' E | 33UVU0346012790  | JO62sk99mo             | 1511631.276            | 6849235.295            | <https://www.openstreetmap.org/edit?way=168058334#map=17/52.45675/13.57921>   | <https://www.openstreetmap.org/?mlat=52.45675&mlon=13.57921#map=17/52.45675/13.57921> | 49                      | u33dmj2ndxu2tewv03c0 | 1462591320                    | 1462581000                        | 1462588860                 | 1462585560                    | 1462646640                   | 1462657140                       | 1462649100                | 1462652400                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | fields.lists.impulse         | 52.4569793           | 13.5798073           | 52.4565392           | 13.5784995           | building          | NA              | Germany            | de                       | Berlin             | 10         | Vitanas Seniorencentrum, Parrisiusstraße 4-14, 12555 Berlin, Germany |      52.45675|     13.579215| NA                | NA                | 12555               | Parrisiusstraße  | NA                 | NA                   | Treptow-Köpenick           | 4-14                     | Köpenick                             | NA                    | Vitanas Seniorencentrum | Dammvorstadt           |

-   `language`: an IETF format language code (such as "es" for Spanish or "pt-BR" for Brazilian Portuguese). If no language is explicitly specified, we will look for an HTTP Accept-Language header like those sent by a brower and use the first language specified and if none are specified "en" (English) will be assumed. See example below.

``` r
results3$results %>% knitr::kable()
```

| annotations.DMS.lat  | annotations.DMS.lng  | annotations.MGRS | annotations.Maidenhead | annotations.Mercator.x | annotations.Mercator.y | annotations.OSM.edit\_url                                                     | annotations.OSM.url                                                                   | annotations.callingcode | annotations.geohash  | annotations.sun.rise.apparent | annotations.sun.rise.astronomical | annotations.sun.rise.civil | annotations.sun.rise.nautical | annotations.sun.set.apparent | annotations.sun.set.astronomical | annotations.sun.set.civil | annotations.sun.set.nautical | annotations.timezone.name | annotations.timezone.now\_in\_dst | annotations.timezone.offset\_sec | annotations.timezone.offset\_string | annotations.timezone.short\_name | annotations.what3words.words | bounds.northeast.lat | bounds.northeast.lng | bounds.southwest.lat | bounds.southwest.lng | components.\_type | components.city | components.country | components.country\_code | components.state   | confidence | formatted                                                            |  geometry.lat|  geometry.lng| components.county | components.hamlet | components.postcode | components.road  | components.village | components.address29 | components.city\_district  | components.house\_number | components.suburb                    | components.restaurant | components.building     | components.residential |
|:---------------------|:---------------------|:-----------------|:-----------------------|:-----------------------|:-----------------------|:------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------|:------------------------|:---------------------|:------------------------------|:----------------------------------|:---------------------------|:------------------------------|:-----------------------------|:---------------------------------|:--------------------------|:-----------------------------|:--------------------------|:----------------------------------|:---------------------------------|:------------------------------------|:---------------------------------|:-----------------------------|:---------------------|:---------------------|:---------------------|:---------------------|:------------------|:----------------|:-------------------|:-------------------------|:-------------------|:-----------|:---------------------------------------------------------------------|-------------:|-------------:|:------------------|:------------------|:--------------------|:-----------------|:-------------------|:---------------------|:---------------------------|:-------------------------|:-------------------------------------|:----------------------|:------------------------|:-----------------------|
| 52° 31' 1.33140'' N  | 13° 23' 19.89564'' E | 33UUU9067619766  | JO62qm64pc             | 1490441.066            | 6860227.862            | <https://www.openstreetmap.org/edit?node=240109189#map=17/52.51704/13.38886>  | <https://www.openstreetmap.org/?mlat=52.51704&mlon=13.38886#map=17/52.51704/13.38886> | 49                      | u33db8mmzj1t355u0c0j | 1462591380                    | 1462580940                        | 1462588920                 | 1462585560                    | 1462646700                   | 1462657260                       | 1462649160                | 1462652520                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | third.gurgled.such           | 52.6770365           | 13.5488599           | 52.3570365           | 13.2288599           | city              | Berlin          | Germany            | de                       | Berlin             | 4          | Berlin, Germany                                                      |      52.51704|     13.388860| NA                | NA                | NA                  | NA               | NA                 | NA                   | NA                         | NA                       | NA                                   | NA                    | NA                      | NA                     |
| 54° 2' 10.89780'' N  | 10° 26' 46.07268'' E | 32UNE9470788534  | JO54fa38mr             | 1162858.017            | 7142435.831            | <https://www.openstreetmap.org/edit?node=50798110#map=17/54.03636/10.44613>   | <https://www.openstreetmap.org/?mlat=54.03636&mlon=10.44613#map=17/54.03636/10.44613> | 49                      | u1x7mtn8se8n18vzuczv | 1462591680                    | 1462579740                        | 1462589100                 | 1462585500                    | 1462647780                   | 1462660080                       | 1462650360                | 1462654020                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | jungle.scaled.quantity       | 54.0563605           | 10.4661313           | 54.0163605           | 10.4261313           | village           | NA              | Germany            | de                       | Schleswig-Holstein | 7          | 23823 Berlin, Germany                                                |      54.03636|     10.446131| Trave-Land        | Berlin            | 23823               | NA               | NA                 | NA                   | NA                         | NA                       | NA                                   | NA                    | NA                      | NA                     |
| 54° 24' 18.42840'' N | 9° 25' 55.18776'' E  | 32UNF2804128682  | JO44rj17uf             | 1049965.059            | 7212486.314            | <https://www.openstreetmap.org/edit?way=68276512#map=17/54.40512/9.43200>     | <https://www.openstreetmap.org/?mlat=54.40512&mlon=9.43200#map=17/54.40512/9.43200>   | 49                      | u1wtw8hhv3q2jjmfesu3 | 1462591860                    | 1462579320                        | 1462589220                 | 1462585560                    | 1462648080                   | 1462661220                       | 1462650780                | 1462654440                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | makeups.propelled.panther    | 54.4069751           | 9.4342708            | 54.4029778           | 9.4299614            | road              | NA              | Germany            | de                       | Schleswig-Holstein | 10         | Berlin, 24848 Klein Bennebek, Germany                                |      54.40512|      9.431997| Kropp-Stapelholm  | NA                | 24848               | Berlin           | Klein Bennebek     | NA                   | NA                         | NA                       | NA                                   | NA                    | NA                      | NA                     |
| 52° 30' 13.47300'' N | 13° 19' 47.85456'' E | 33UUU8664618379  | JO62pm90ov             | 1483884.315            | 6857802.372            | <https://www.openstreetmap.org/edit?node=4012854129#map=17/52.50374/13.32996> | <https://www.openstreetmap.org/?mlat=52.50374&mlon=13.32996#map=17/52.50374/13.32996> | 49                      | u336xq486wfr91wcvvev | 1462591380                    | 1462581000                        | 1462588920                 | 1462585620                    | 1462646700                   | 1462657260                       | 1462649160                | 1462652520                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | touchy.candle.reserved       | 52.5037925           | 13.3300096           | 52.5036925           | 13.3299096           | building          | NA              | Germany            | de                       | Berlin             | 10         | Berlin, Kurfürstendamm 21, 10719 Berlin, Germany                     |      52.50374|     13.329960| NA                | NA                | 10719               | Kurfürstendamm   | NA                 | Berlin               | Charlottenburg-Wilmersdorf | 21                       | Charlottenburg                       | NA                    | NA                      | NA                     |
| 52° 19' 25.76604'' N | 9° 48' 22.74660'' E  | 32UNC5495397361  | JO42vh67sr             | 1091634.382            | 6825048.473            | <https://www.openstreetmap.org/edit?node=260139043#map=17/52.32382/9.80632>   | <https://www.openstreetmap.org/?mlat=52.32382&mlon=9.80632#map=17/52.32382/9.80632>   | 49                      | u1qcxjk8rg9p397vepz1 | 1462592280                    | 1462582020                        | 1462589820                 | 1462586520                    | 1462647480                   | 1462657920                       | 1462649940                | 1462653300                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | dial.vine.finders            | 52.3238739           | 9.8063685            | 52.3237739           | 9.8062685            | restaurant        | Hanover         | Germany            | de                       | Lower Saxony       | 10         | Berlin, 4. Allee, 30521 Hanover, Germany                             |      52.32382|      9.806318| Region Hannover   | NA                | 30521               | 4. Allee         | NA                 | NA                   | Döhren-Wülfel              | NA                       | Mittelfeld                           | Berlin                | NA                      | NA                     |
| 52° 22' 12.67680'' N | 9° 45' 10.62252'' E  | 32UND5126202479  | JO42vi08iu             | 1085693.506            | 6833476.151            | <https://www.openstreetmap.org/edit?node=320881943#map=17/52.37019/9.75295>   | <https://www.openstreetmap.org/?mlat=52.37019&mlon=9.75295#map=17/52.37019/9.75295>   | 49                      | u1qcvvtyknx5um9fq9f9 | 1462592280                    | 1462581960                        | 1462589820                 | 1462586520                    | 1462647540                   | 1462657980                       | 1462650000                | 1462653300                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | army.outdoors.hitters        | 52.370238            | 9.7530007            | 52.370138            | 9.7529007            | road              | Hanover         | Germany            | de                       | Lower Saxony       | 10         | Berliner Allee, 30175 Hanover, Germany                               |      52.37019|      9.752951| Region Hannover   | NA                | 30175               | Berliner Allee   | NA                 | Berlin               | South-City-Bult            | NA                       | South-City                           | NA                    | NA                      | NA                     |
| 52° 30' 20.91132'' N | 13° 19' 56.43624'' E | 33UUU8681318605  | JO62pm91vj             | 1484149.678            | 6858179.301            | <https://www.openstreetmap.org/edit?node=3889599519#map=17/52.50581/13.33234> | <https://www.openstreetmap.org/?mlat=52.50581&mlon=13.33234#map=17/52.50581/13.33234> | 49                      | u336xqkkd05ubvhv9zd8 | 1462591380                    | 1462581000                        | 1462588920                 | 1462585620                    | 1462646700                   | 1462657260                       | 1462649160                | 1462652520                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | empire.opposite.unwell       | 52.5058587           | 13.3323934           | 52.5057587           | 13.3322934           | building          | NA              | Germany            | de                       | Berlin             | 10         | Berlin, Hardenbergstraße 27-28a, 10623 Berlin, Germany               |      52.50581|     13.332343| NA                | NA                | 10623               | Hardenbergstraße | NA                 | Berlin               | Charlottenburg-Wilmersdorf | 27-28a                   | Charlottenburg                       | NA                    | NA                      | NA                     |
| 53° 51' 4.53384'' N  | 10° 40' 56.93196'' E | 32UPE1067368285  | JO53iu14vh             | 1189168.356            | 7107508.609            | <https://www.openstreetmap.org/edit?node=1630863689#map=17/53.85126/10.68248> | <https://www.openstreetmap.org/?mlat=53.85126&mlon=10.68248#map=17/53.85126/10.68248> | 49                      | u1xd756drf74zwdx76by | 1462591680                    | 1462579980                        | 1462589100                 | 1462585560                    | 1462647660                   | 1462659660                       | 1462650240                | 1462653840                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | chase.pencils.themes         | 53.8513094           | 10.6825311           | 53.8512094           | 10.6824311           | road              | Lübeck          | Germany            | de                       | Schleswig-Holstein | 10         | Berliner Platz, 23560 Lübeck, Germany                                |      53.85126|     10.682481| NA                | NA                | 23560               | Berliner Platz   | NA                 | Berlin               | Sankt Jürgen               | NA                       | Hüxtertor / Mühlentor / Gärtnergasse | NA                    | NA                      | NA                     |
| 52° 27' 24.31584'' N | 13° 34' 45.17324'' E | 33UVU0346012790  | JO62sk99mo             | 1511631.276            | 6849235.295            | <https://www.openstreetmap.org/edit?way=168058334#map=17/52.45675/13.57921>   | <https://www.openstreetmap.org/?mlat=52.45675&mlon=13.57921#map=17/52.45675/13.57921> | 49                      | u33dmj2ndxu2tewv03c0 | 1462591320                    | 1462581000                        | 1462588860                 | 1462585560                    | 1462646640                   | 1462657140                       | 1462649100                | 1462652400                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | fields.lists.impulse         | 52.4569793           | 13.5798073           | 52.4565392           | 13.5784995           | building          | NA              | Germany            | de                       | Berlin             | 10         | Vitanas Seniorencentrum, Parrisiusstraße 4-14, 12555 Berlin, Germany |      52.45675|     13.579215| NA                | NA                | 12555               | Parrisiusstraße  | NA                 | NA                   | Treptow-Köpenick           | 4-14                     | Köpenick                             | NA                    | Vitanas Seniorencentrum | Dammvorstadt           |

``` r
results4 <- opencage_forward(placename = "Berlin", country = "DE", language = "de")
results4$results %>% knitr::kable()
```

| annotations.DMS.lat  | annotations.DMS.lng  | annotations.MGRS | annotations.Maidenhead | annotations.Mercator.x | annotations.Mercator.y | annotations.OSM.edit\_url                                                     | annotations.OSM.url                                                                   | annotations.callingcode | annotations.geohash  | annotations.sun.rise.apparent | annotations.sun.rise.astronomical | annotations.sun.rise.civil | annotations.sun.rise.nautical | annotations.sun.set.apparent | annotations.sun.set.astronomical | annotations.sun.set.civil | annotations.sun.set.nautical | annotations.timezone.name | annotations.timezone.now\_in\_dst | annotations.timezone.offset\_sec | annotations.timezone.offset\_string | annotations.timezone.short\_name | annotations.what3words.words | bounds.northeast.lat | bounds.northeast.lng | bounds.southwest.lat | bounds.southwest.lng | components.\_type | components.city | components.country | components.country\_code | components.state   | confidence | formatted                                                                |  geometry.lat|  geometry.lng| components.county | components.hamlet | components.postcode | components.road  | components.village | components.address29 | components.city\_district  | components.house\_number | components.suburb                    | components.restaurant | components.building     | components.residential |
|:---------------------|:---------------------|:-----------------|:-----------------------|:-----------------------|:-----------------------|:------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------|:------------------------|:---------------------|:------------------------------|:----------------------------------|:---------------------------|:------------------------------|:-----------------------------|:---------------------------------|:--------------------------|:-----------------------------|:--------------------------|:----------------------------------|:---------------------------------|:------------------------------------|:---------------------------------|:-----------------------------|:---------------------|:---------------------|:---------------------|:---------------------|:------------------|:----------------|:-------------------|:-------------------------|:-------------------|:-----------|:-------------------------------------------------------------------------|-------------:|-------------:|:------------------|:------------------|:--------------------|:-----------------|:-------------------|:---------------------|:---------------------------|:-------------------------|:-------------------------------------|:----------------------|:------------------------|:-----------------------|
| 52° 31' 1.33140'' N  | 13° 23' 19.89564'' E | 33UUU9067619766  | JO62qm64pc             | 1490441.066            | 6860227.862            | <https://www.openstreetmap.org/edit?node=240109189#map=17/52.51704/13.38886>  | <https://www.openstreetmap.org/?mlat=52.51704&mlon=13.38886#map=17/52.51704/13.38886> | 49                      | u33db8mmzj1t355u0c0j | 1462591380                    | 1462580940                        | 1462588920                 | 1462585560                    | 1462646700                   | 1462657260                       | 1462649160                | 1462652520                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | nirgends.digitalen.landkarte | 52.6770365           | 13.5488599           | 52.3570365           | 13.2288599           | city              | Berlin          | Deutschland        | de                       | Berlin             | 4          | Berlin, Deutschland                                                      |      52.51704|     13.388860| NA                | NA                | NA                  | NA               | NA                 | NA                   | NA                         | NA                       | NA                                   | NA                    | NA                      | NA                     |
| 54° 2' 10.89780'' N  | 10° 26' 46.07268'' E | 32UNE9470788534  | JO54fa38mr             | 1162858.017            | 7142435.831            | <https://www.openstreetmap.org/edit?node=50798110#map=17/54.03636/10.44613>   | <https://www.openstreetmap.org/?mlat=54.03636&mlon=10.44613#map=17/54.03636/10.44613> | 49                      | u1x7mtn8se8n18vzuczv | 1462591680                    | 1462579740                        | 1462589100                 | 1462585500                    | 1462647780                   | 1462660080                       | 1462650360                | 1462654020                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | zusehen.sicht.besucht        | 54.0563605           | 10.4661313           | 54.0163605           | 10.4261313           | village           | NA              | Deutschland        | de                       | Schleswig-Holstein | 7          | 23823 Berlin, Deutschland                                                |      54.03636|     10.446131| Trave-Land        | Berlin            | 23823               | NA               | NA                 | NA                   | NA                         | NA                       | NA                                   | NA                    | NA                      | NA                     |
| 54° 24' 18.42840'' N | 9° 25' 55.18776'' E  | 32UNF2804128682  | JO44rj17uf             | 1049965.059            | 7212486.314            | <https://www.openstreetmap.org/edit?way=68276512#map=17/54.40512/9.43200>     | <https://www.openstreetmap.org/?mlat=54.40512&mlon=9.43200#map=17/54.40512/9.43200>   | 49                      | u1wtw8hhv3q2jjmfesu3 | 1462591860                    | 1462579320                        | 1462589220                 | 1462585560                    | 1462648080                   | 1462661220                       | 1462650780                | 1462654440                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | niedrig.sicher.kranz         | 54.4069751           | 9.4342708            | 54.4029778           | 9.4299614            | road              | NA              | Deutschland        | de                       | Schleswig-Holstein | 10         | Berlin, 24848 Klein Bennebek, Deutschland                                |      54.40512|      9.431997| Kropp-Stapelholm  | NA                | 24848               | Berlin           | Klein Bennebek     | NA                   | NA                         | NA                       | NA                                   | NA                    | NA                      | NA                     |
| 52° 30' 13.47300'' N | 13° 19' 47.85456'' E | 33UUU8664618379  | JO62pm90ov             | 1483884.315            | 6857802.372            | <https://www.openstreetmap.org/edit?node=4012854129#map=17/52.50374/13.32996> | <https://www.openstreetmap.org/?mlat=52.50374&mlon=13.32996#map=17/52.50374/13.32996> | 49                      | u336xq486wfr91wcvvev | 1462591380                    | 1462581000                        | 1462588920                 | 1462585620                    | 1462646700                   | 1462657260                       | 1462649160                | 1462652520                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | abgekürzt.vergabe.bequem     | 52.5037925           | 13.3300096           | 52.5036925           | 13.3299096           | building          | NA              | Deutschland        | de                       | Berlin             | 10         | Berlin, Kurfürstendamm 21, 10719 Berlin, Deutschland                     |      52.50374|     13.329960| NA                | NA                | 10719               | Kurfürstendamm   | NA                 | Berlin               | Charlottenburg-Wilmersdorf | 21                       | Charlottenburg                       | NA                    | NA                      | NA                     |
| 52° 19' 25.76604'' N | 9° 48' 22.74660'' E  | 32UNC5495397361  | JO42vh67sr             | 1091634.382            | 6825048.473            | <https://www.openstreetmap.org/edit?node=260139043#map=17/52.32382/9.80632>   | <https://www.openstreetmap.org/?mlat=52.32382&mlon=9.80632#map=17/52.32382/9.80632>   | 49                      | u1qcxjk8rg9p397vepz1 | 1462592280                    | 1462582020                        | 1462589820                 | 1462586520                    | 1462647480                   | 1462657920                       | 1462649940                | 1462653300                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | erreichte.kreis.knopf        | 52.3238739           | 9.8063685            | 52.3237739           | 9.8062685            | restaurant        | Hannover        | Deutschland        | de                       | Niedersachsen      | 10         | Berlin, 4. Allee, 30521 Hannover, Deutschland                            |      52.32382|      9.806318| Region Hannover   | NA                | 30521               | 4. Allee         | NA                 | NA                   | Döhren-Wülfel              | NA                       | Mittelfeld                           | Berlin                | NA                      | NA                     |
| 52° 22' 12.67680'' N | 9° 45' 10.62252'' E  | 32UND5126202479  | JO42vi08iu             | 1085693.506            | 6833476.151            | <https://www.openstreetmap.org/edit?node=320881943#map=17/52.37019/9.75295>   | <https://www.openstreetmap.org/?mlat=52.37019&mlon=9.75295#map=17/52.37019/9.75295>   | 49                      | u1qcvvtyknx5um9fq9f9 | 1462592280                    | 1462581960                        | 1462589820                 | 1462586520                    | 1462647540                   | 1462657980                       | 1462650000                | 1462653300                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | greift.zentrum.teilt         | 52.370238            | 9.7530007            | 52.370138            | 9.7529007            | road              | Hannover        | Deutschland        | de                       | Niedersachsen      | 10         | Berliner Allee, 30175 Hannover, Deutschland                              |      52.37019|      9.752951| Region Hannover   | NA                | 30175               | Berliner Allee   | NA                 | Berlin               | Südstadt-Bult              | NA                       | Südstadt                             | NA                    | NA                      | NA                     |
| 52° 30' 20.91132'' N | 13° 19' 56.43624'' E | 33UUU8681318605  | JO62pm91vj             | 1484149.678            | 6858179.301            | <https://www.openstreetmap.org/edit?node=3889599519#map=17/52.50581/13.33234> | <https://www.openstreetmap.org/?mlat=52.50581&mlon=13.33234#map=17/52.50581/13.33234> | 49                      | u336xqkkd05ubvhv9zd8 | 1462591380                    | 1462581000                        | 1462588920                 | 1462585620                    | 1462646700                   | 1462657260                       | 1462649160                | 1462652520                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | übungen.schon.furcht         | 52.5058587           | 13.3323934           | 52.5057587           | 13.3322934           | building          | NA              | Deutschland        | de                       | Berlin             | 10         | Berlin, Hardenbergstraße 27-28a, 10623 Berlin, Deutschland               |      52.50581|     13.332343| NA                | NA                | 10623               | Hardenbergstraße | NA                 | Berlin               | Charlottenburg-Wilmersdorf | 27-28a                   | Charlottenburg                       | NA                    | NA                      | NA                     |
| 53° 51' 4.53384'' N  | 10° 40' 56.93196'' E | 32UPE1067368285  | JO53iu14vh             | 1189168.356            | 7107508.609            | <https://www.openstreetmap.org/edit?node=1630863689#map=17/53.85126/10.68248> | <https://www.openstreetmap.org/?mlat=53.85126&mlon=10.68248#map=17/53.85126/10.68248> | 49                      | u1xd756drf74zwdx76by | 1462591680                    | 1462579980                        | 1462589100                 | 1462585560                    | 1462647660                   | 1462659660                       | 1462650240                | 1462653840                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | umzug.hübsch.tapfer          | 53.8513094           | 10.6825311           | 53.8512094           | 10.6824311           | road              | Lübeck          | Deutschland        | de                       | Schleswig-Holstein | 10         | Berliner Platz, 23560 Lübeck, Deutschland                                |      53.85126|     10.682481| NA                | NA                | 23560               | Berliner Platz   | NA                 | Berlin               | Sankt Jürgen               | NA                       | Hüxtertor / Mühlentor / Gärtnergasse | NA                    | NA                      | NA                     |
| 52° 27' 24.31584'' N | 13° 34' 45.17324'' E | 33UVU0346012790  | JO62sk99mo             | 1511631.276            | 6849235.295            | <https://www.openstreetmap.org/edit?way=168058334#map=17/52.45675/13.57921>   | <https://www.openstreetmap.org/?mlat=52.45675&mlon=13.57921#map=17/52.45675/13.57921> | 49                      | u33dmj2ndxu2tewv03c0 | 1462591320                    | 1462581000                        | 1462588860                 | 1462585560                    | 1462646640                   | 1462657140                       | 1462649100                | 1462652400                   | Europe/Berlin             | 1                                 | 7200                             | 200                                 | CEST                             | allein.ausübt.schock         | 52.4569793           | 13.5798073           | 52.4565392           | 13.5784995           | building          | NA              | Deutschland        | de                       | Berlin             | 10         | Vitanas Seniorencentrum, Parrisiusstraße 4-14, 12555 Berlin, Deutschland |      52.45675|     13.579215| NA                | NA                | 12555               | Parrisiusstraße  | NA                 | NA                   | Treptow-Köpenick           | 4-14                     | Köpenick                             | NA                    | Vitanas Seniorencentrum | Dammvorstadt           |

-   `limit`: How many results should be returned (1-100). Default is 10.

-   `min_confidence`: an integer from 1-10. Only results with at least this confidence will be returned.

-   `no_annotations`: Logical (default FALSE), when TRUE the output will not contain annotations.

-   `no_dedupe`: Logical (default FALSE), when TRUE the output will not be deduplicated.

For more information about the output and the query parameters, see the package documentation, the [API doc](https://geocoder.opencagedata.com/api) and [OpenCage FAQ](https://geocoder.opencagedata.com/faq).

Caching
-------

The underlying data at OpenCage is updated about once a day. Note that the package uses [memoise](https://github.com/hadley/memoise) with no timeout argument so that results are cached inside an active R session.

``` r
system.time(opencage_reverse(latitude = 10, longitude = 10))
```

    ##    user  system elapsed 
    ##    0.01    0.02    0.55

``` r
system.time(opencage_reverse(latitude = 10, longitude = 10))
```

    ##    user  system elapsed 
    ##       0       0       0

``` r
memoise::forget(opencage_reverse)
```

    ## [1] TRUE

``` r
system.time(opencage_reverse(latitude = 10, longitude = 10))
```

    ##    user  system elapsed 
    ##    0.03    0.00    0.44

Meta
----

-   Please [report any issues or bugs](https://github.com/ropenscilabs/opencage/issues).
-   License: GPL
-   Get citation information for `opencage` in R doing `citation(package = 'opencage')`
-   Please note that this project is released with a [Contributor Code of Conduct](CONDUCT.md). By participating in this project you agree to abide by its terms.

[![ropensci\_footer](http://ropensci.org/public_images/github_footer.png)](http://ropensci.org)
